# Paywall Flow E2E Test
# Run: maestro test .maestro/payments/paywall-flow.yaml
# Note: This tests UI only, not actual purchases (use sandbox for that)

appId: com.yourcompany.dodoexpo
name: Paywall UI Flow

---
# Assume user is logged in
- waitForAnimationToEnd

# Navigate to a premium feature or paywall
# This might be in settings or a premium button
- tapOn: 'Profile'
- waitForAnimationToEnd

# Look for subscription/premium section
- scrollUntilVisible:
    element: 'Subscription'
    direction: DOWN

- tapOn: 'Subscription'
- waitForAnimationToEnd

# Verify paywall elements are visible
- assertVisible: 'Premium'

# Verify pricing is displayed
- assertVisible:
    text: ".*\\$.*"
    regex: true

# Verify restore purchases button exists
- assertVisible: 'Restore'

# Close paywall
- tapOn:
    id: 'close-button'
