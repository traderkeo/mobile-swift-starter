# Login Flow E2E Test
# Run: maestro test .maestro/auth/login-flow.yaml

appId: com.yourcompany.dodoexpo
name: Login Flow

---
# Wait for app to load
- waitForAnimationToEnd

# Skip onboarding if present
- runFlow:
    when:
      visible: 'Get Started'
    commands:
      - tapOn: 'Get Started'
      - waitForAnimationToEnd

# Make sure we're on login screen
- assertVisible: 'Sign In'

# Fill in login form
- tapOn:
    id: 'email-input'
- inputText: ${TEST_EMAIL}

- tapOn:
    id: 'password-input'
- inputText: ${TEST_PASSWORD}

# Submit form
- tapOn: 'Sign In'

# Wait for navigation
- waitForAnimationToEnd:
    timeout: 10000

# Verify we're on the home screen
- assertVisible: 'Home'
